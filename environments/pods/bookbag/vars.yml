---
pods:
  - name: bookbag
    dockerfile: false
    image: quay.io/openshifthomeroom/workshop-dashboard:5.0.0
    ports:
      - "10080:10080"
    volumes:
            #      files:
            #        - src: assemble
            #          dest: /usr/libexec/s2i/
      directories:
        - src: /opt/app-root/src
          dest: /tmp/src
          #        - src: /opt/app-root/workshop
          #          dest: /tmp/workshop

    systemd:
      # Space separated list of wants
      wants_services: network.target bind9-pod.service gitlab-pod.service
      # Space separated list of after services
      after_services: network-online.target bind9-pod.service gitlab-pod.service
      state: started
      enabled: true

    environment:
      - 'AUTH_USERNAME=bob'
      - 'AUTH_PASSWORD=redhat'
      - 'APPLICATION_NAME=bookbag'
     - 'WORKSHOP_VARS={ 
                 "guid": "gitOps1",
                 "subdomain_base_suffix": "red.ops.example.com", 
                 "gitlab_url": "https://utility.red.ops.example.com",
                 "gitlab_username": "devops",
                 "gitlab_password": "redhat123",
                 "tower_url": "https://tower.example.com",
                 "tower_admin_user": "devops",
                 "tower_admin_password": "redhat123",
                 "ssh_command": "ssh pnm@control.red.ops.example.com",
                 "ssh_password": "redhat123",
                 "vscode_ui_url": "http://control.red.ops.example.com",
                 "vscode_ui_password": "redhat123"
                 }'